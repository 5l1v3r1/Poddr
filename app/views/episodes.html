<div ng-controller="EpisodesController">

  <md-toolbar style="background-color:#353535;margin-bottom: 15px;">
    <div class="md-toolbar-tools">
      <h2 flex md-truncate>{{ episodeTitle || 'Episodes' }}</h2>
      <md-progress-circular md-mode="indeterminate" md-diameter="25" ng-if="isLoading"></md-progress-circular>
    </div>
  </md-toolbar>

  <md-list>
    <md-list-item>
      <div class="row" layout="row" style="width: 100%">
        <div flex="85">
          <md-input-container class="md-block" style="margin: 0">
            <input ng-model="query" ng-change="filterEpisodes()" type="text" placeholder="Filter by" />
          </md-input-container>
        </div>
        <div flex="15" layout="row" layout-align="center center">
          <md-icon md-font-library="material-icons" ng-click="toggleOrderBy()" style="cursor:pointer;">sort</md-icon>
        </div>
      </div>
    </md-list-item>
    <md-list-item class="episode-item" ng-repeat="episode in episodes | limitTo:limit track by $index" layout-margin>
      <div layout="column" ng-click='playPodcast(episode, albumCover)' style="width:100%">
        <md-tooltip md-direction="left" md-delay="500">{{ episode.description | episodeDesc }}</md-tooltip>
        <div class="row">
          <a href="#" style="color:white;text-decoration:none">{{ episode.title }}</a>
        </div>
        <div class="row" layout="row">
          <div flex="50">
            <span style="color:#bbb;font-size:12px;">{{ episode.published | date : format : timezone }}</span>
          </div>
          <div flex="50">
            <span style="color:#bbb;font-size:12px;float:right;">{{ episode.duration | secondsToHHmmss }}</span>
          </div>
        </div>
      </div>
    </md-list-item>
  </md-list>
</div>